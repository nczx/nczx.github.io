<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>Test Matematyka Page 15</title>
    <!-- Base URL script - must be first to handle GitHub Pages -->
    <script>
        // Set the base URL for GitHub Pages compatibility
        var baseUrl = '';
        // Check if we're on GitHub Pages (contains github.io)
        if (window.location.hostname.includes('github.io')) {
            // Extract the repository name from the pathname
            var pathSegments = window.location.pathname.split('/');
            if (pathSegments.length > 1) {
                baseUrl = '/' + pathSegments[1];
            }
        }
        console.log('Base URL set to:', baseUrl);
    </script>
    <!-- Critical dark mode styles - loaded first -->
    <link rel="stylesheet" href="../../../darkmode.css">
    <!-- Dark mode initialization script - must execute immediately -->
    <script src="../../../darkmode.js"></script>
    <!-- Main stylesheet -->
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <header>
        <h1>Test Matematyka - Page 15</h1>
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="darkModeToggle">
                <input type="checkbox" id="darkModeToggle">
                <div class="slider round"></div>
            </label>
            <span id="themeText">Light Mode</span>
        </div>
    </header>
    
    <main class="subject-container">
        <div class="content">
            <h2>Test Content for Page 15</h2>
            <p>This is a test page to verify GitHub Pages compatibility.</p>
            <p>Current path: <span id="currentPath"></span></p>
            <p>Base URL: <span id="baseUrlDisplay"></span></p>
        </div>
        
        <div class="navigation-buttons">
            <button id="prevPage">Poprzednia strona</button>
            <a href="javascript:void(0);" onclick="navigateTo('../index.html')"><button>Spis treści</button></a>
            <a href="javascript:void(0);" onclick="navigateTo('../../../index.html')"><button>Strona główna</button></a>
            <button id="nextPage">Nastepna strona</button>
        </div>
    </main>

    <script>
        // Display current path and base URL for debugging
        document.getElementById('currentPath').textContent = window.location.pathname;
        document.getElementById('baseUrlDisplay').textContent = baseUrl;
        
        // Navigation helper for GitHub Pages compatibility
        function navigateTo(path) {
            // Remove leading slash if present
            if (path.startsWith('/')) {
                path = path.substring(1);
            }
            console.log('Navigating to:', baseUrl + '/' + path);
            window.location.href = baseUrl + '/' + path;
        }
    </script>
    
    <script>
        // Content page navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Get navigation buttons
            const prevButton = document.getElementById('prevPage');
            const nextButton = document.getElementById('nextPage');
            
            // Check if buttons exist
            if (!prevButton && !nextButton) return;
            
            // Function to navigate to previous page
            function navigateToPreviousPage() {
                let path = window.location.pathname;
                
                // Remove baseUrl from path if it exists
                if (typeof baseUrl !== 'undefined' && baseUrl && path.startsWith(baseUrl)) {
                    path = path.substring(baseUrl.length);
                }
                
                let segments = path.split('/');
                
                // Get the current page number
                let currentPage = parseInt(segments[segments.length - 2]);
                
                // Go to previous page if not on first page
                if (currentPage > 1) {
                    segments[segments.length - 2] = currentPage - 1;
                    let newPath = segments.join('/');
                    
                    // Add baseUrl back if needed
                    if (typeof baseUrl !== 'undefined' && baseUrl) {
                        // Remove leading slash if present
                        if (newPath.startsWith('/')) {
                            newPath = newPath.substring(1);
                        }
                        newPath = baseUrl + '/' + newPath;
                    }
                    
                    window.location.href = newPath;
                }
            }
            
            // Function to navigate to next page
            function navigateToNextPage() {
                let path = window.location.pathname;
                
                // Remove baseUrl from path if it exists
                if (typeof baseUrl !== 'undefined' && baseUrl && path.startsWith(baseUrl)) {
                    path = path.substring(baseUrl.length);
                }
                
                let segments = path.split('/');
                
                // Get the current page number
                let currentPage = parseInt(segments[segments.length - 2]);
                
                // Go to next page
                segments[segments.length - 2] = currentPage + 1;
                let newPath = segments.join('/');
                
                // Add baseUrl back if needed
                if (typeof baseUrl !== 'undefined' && baseUrl) {
                    // Remove leading slash if present
                    if (newPath.startsWith('/')) {
                        newPath = newPath.substring(1);
                    }
                    newPath = baseUrl + '/' + newPath;
                }
                
                window.location.href = newPath;
            }
            
            // Add event listeners
            if (prevButton) prevButton.addEventListener('click', navigateToPreviousPage);
            if (nextButton) nextButton.addEventListener('click', navigateToNextPage);
        });
    </script>
</body>
</html> 
